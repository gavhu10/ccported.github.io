"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[3939],{8864:(e,t,o)=>{o.d(t,{Ay:()=>v,J3:()=>y,rv:()=>h});var a=o(38),s=o(5788),r=o(3346),n=o(3260),i=o(385),c=o(8811),l=o(9625),d=o(6536);const u=["immersiveTakeover","custom","apiOverride","base"],p={base:c.V.default,apiOverride:null,multiverse:null,immersiveTakeover:null},g=(0,a.Z0)({name:"background",initialState:p,reducers:{unsetBackground:()=>p,setBackground:(e,t)=>{const{layer:o,background:a}=t.payload;e[o]=a}},selectors:{selectBackground:e=>{let t=e.base;return Object.values(u).some((o=>!!e[o]&&(t=e[o],!0))),t},selectIsImmersiveTakeover:e=>null!==e.immersiveTakeover}}),{unsetBackground:m,setBackground:y}=g.actions,{selectBackground:h,selectIsImmersiveTakeover:k}=g.selectors;(0,d.Zv)({matcher:(0,a.i0)(n.y),effect:(e,t)=>{const o=t.getState(),a=(0,i.K5)(o),s=h(o);if(null==s||!s.sticky)if("preview"!==a)if("mystery"!==a)if("game"!==a)if("category"!==a)t.dispatch(m());else{const e=(0,i.N2)(o),a=(0,l.r_)(e.id);t.dispatch(y({layer:"custom",background:a}))}else{const e=(0,i.Vv)(o),a=(0,l.v3)(e),s=null==a?void 0:a.defaultWorld,r=(0,l.Pz)(e,s);t.dispatch(y({layer:"custom",background:r}))}else{const{mystery:e}=c.V;t.dispatch(y({layer:"custom",background:e}))}else{const{preview:e}=c.V;t.dispatch(y({layer:"custom",background:e}))}}}),(0,d.Zv)({type:s.ju.type,effect:(e,t)=>{const{game:o,world:a}=e.payload,s=(0,l.Pz)(o,a);s&&t.dispatch(y({layer:"custom",background:s}))}}),(0,d.Zv)({type:r.jO.type,effect:(e,t)=>{var o;const{background:a}=(null==e||null===(o=e.takeover)||void 0===o?void 0:o.config)||{};a&&t.dispatch(y({layer:"immersiveTakeover",background:{...a,style:"dual-cover"}}))}}),(0,d.Zv)({type:r.jp.type,effect:(e,t)=>{t.dispatch(m())}});const v=g.reducer},6788:(e,t,o)=>{o.d(t,{Ay:()=>h,X$:()=>u,fy:()=>y,p3:()=>d,x0:()=>l});var a=o(38),s=o(8708),r=o(385),n=o(8800),i=o(5788);const c=(0,a.Z0)({name:"bugReport",initialState:{isReporting:!1,reportData:null},reducers:{openReportBug:e=>{e.isReporting=!0},closeReportBug:e=>{e.isReporting=!1},setBugReportData:(e,t)=>{e.reportData=t.payload.message}}}),l=e=>e.bugReport.isReporting,d=e=>e.bugReport.reportData,u=(0,a.VP)("bugReport/sendReportBug"),{openReportBug:p,closeReportBug:g,setBugReportData:m}=c.actions,y=()=>async(e,t)=>{const o=t(),a=(0,s.K)(o),c=(0,r.Vv)(o);if(!c)return;e(p());const l=Date.now(),d=`feedback-input-${l}`,y=`feedback-checkbox-${l}`,h=a.what_bug.replace("%title",`<strong>${c.title}?</strong>`),k={id:l,title:h,titleIcon:{svgName:"report",width:24,height:24},childComponent:{name:"ReportBugNotification",props:{feedbackInputId:d,feedbackCheckboxId:y}},clickOutsideToClose:!0,onClose:()=>{e(g())},actions:[{title:a.send,onClick:()=>{var t,o;const s=null===(t=document.getElementById(d))||void 0===t?void 0:t.value;e(m({message:s})),null!==(o=document.getElementById(y))&&void 0!==o&&o.checked?e((0,i.kK)({callback:"bugReport"})):e(u()),e((0,n.oe)({id:l}));const r={notification:{title:a.thank_you,theme:"feedback",autoExpire:4e3}};e((0,n.Gg)(r))}}]};e((0,n.Gg)({notification:k}))},h=c},7454:(e,t,o)=>{o.d(t,{Ay:()=>k,Hz:()=>c,Jg:()=>s,KN:()=>m,Lb:()=>y,Od:()=>h,SZ:()=>g,WS:()=>i,XM:()=>n,bC:()=>d,dR:()=>r,iS:()=>u,qC:()=>l,uP:()=>p});const a=(0,o(38).Z0)({name:"eastereggs",initialState:{customLogo:null,customFavicon:null,explodePoki:!1,jonklerExplosion:!1,preparingJonklerExplosion:!1,suckTilesPoki:!1,mango:!1,knee:!1,stillwater:!1},reducers:{setExplodePoki:(e,t)=>{e.explodePoki=t.payload.value},setCustomLogo:(e,t)=>{e.customLogo=t.payload},setCustomFavicon:(e,t)=>{e.customFavicon=t.payload},setSuckTilesPoki:(e,t)=>{e.suckTilesPoki=t.payload.value},setJonklerExplosion:(e,t)=>{e.jonklerExplosion=t.payload.value},setPrepareJonklerExplosion:(e,t)=>{e.preparingJonklerExplosion=t.payload.value},setMango:(e,t)=>{e.mango=t.payload.value},setKnee:(e,t)=>{e.knee=t.payload.value},setStillWater:(e,t)=>{e.stillwater=t.payload.value},setWait:()=>{},setEasterEgg(){}}}),{setExplodePoki:s,setSuckTilesPoki:r,setCustomLogo:n,setCustomFavicon:i,setJonklerExplosion:c,setPrepareJonklerExplosion:l,setMango:d,setKnee:u,setStillWater:p,setEasterEgg:g,setWait:m}=a.actions,y=e=>e.eastereggs.customLogo,h=e=>e.eastereggs.customFavicon,k=a},8800:(e,t,o)=>{o.d(t,{Ay:()=>c,Gg:()=>s,hk:()=>i,oe:()=>n,ww:()=>r});const a=(0,o(38).Z0)({name:"notifications",initialState:{stack:[],muted:[]},reducers:{setNotification:(e,t)=>{const{notification:o}=t.payload;o.id=o.id||Date.now(),o.isClosed=o.isClosed||!1,e.stack.push(o)},removeNotification:(e,t)=>{e.stack=e.stack.filter((e=>e.id!==t.payload.id))},setCloseNotification:(e,t)=>{const{id:o}=t.payload;e.stack=e.stack.map((t=>t.id===o?(t.muteAfterClose&&e.muted.push(o),{...t,isClosed:!0}):t))}}}),{setNotification:s,removeNotification:r,setCloseNotification:n}=a.actions,i=(e,t)=>e.notifications.muted.includes(t),c=a},822:(e,t,o)=>{o.d(t,{Ay:()=>B,Bb:()=>E,Hu:()=>C,QL:()=>O,Ri:()=>w,Se:()=>I,mr:()=>x,rf:()=>q,vK:()=>R});var a=o(38),s=o(7662),r=o(385),n=o(8421),i=o(9194),c=o(3210),l=o(6278),d=o(382),u=o(6493),p=o(890),g=o(4931),m=o(6536);const y=`${(0,l.G6)()}/search/query`,h=`${(0,l.G6)()}/category`,k={content:[]},v={query:"",expanded:!1,results:k,pending:!1,doneOnce:!1,error:!1,popularSearches:[],searchSessionId:0,quickSearchCategories:[]},f=(e,t,o)=>({data:(0,d.rL)(e,t,o),score:(null==o?void 0:o.score)||("game"===t?1:0)});function S({site:e,device:t,hits:o}){const a=function({site:e,device:t,hits:o}){var a,s;const r=(null==o||null===(a=o.categories)||void 0===a?void 0:a.map((t=>f(e,"category",t))))||[],n=(null==o||null===(s=o.games)||void 0===s?void 0:s.map((t=>f(e,"game",t))))||[];return{categories:r,games:"mobile"===t?n.filter((e=>e.data.mobile)):n}}({site:e,device:t,hits:o}),s=[...a.categories.map((e=>({...e,category:!0}))),...a.games];return s.sort(((e,t)=>t.score-e.score)),"mobile"===t&&s.splice(50),s}function b({state:e,query:t,numberOfResults:o=0,isQuickCategorySearch:a=!1}){const s=(0,n.Ie)(e),i=(0,r.K5)(e),c=o>0?"success":"empty";(0,u.F)({category:"search",action:"results",label:i,data:{query:t,result:c,numberOfResults:o,searchSessionId:s,isQuickCategorySearch:a}})}const C=(0,a.zD)("search/fetchSearch",(async(e,t)=>{if(e.query.length<2)return{content:[]};const o=t.getState(),a=(0,i.Gd)(o),r=(0,s.xp)(o),n=(0,s.wu)(o),l=(0,c.p)(o),d=await fetch(`${y}/${a.id}?q=${encodeURIComponent(e.query)}&device=${r}&country=${n}${l?`&experiment=${l}`:""}`),u=await d.json();if(!u.categories.length&&!u.games.length)return b({state:o,query:e.query}),{content:[]};const p=S({site:a,device:r,hits:u});return b({state:o,query:e.query,numberOfResults:p.length}),{content:p}})),x=(0,a.zD)("search/fetchQuickSearchCategories",(async(e,t)=>{const o=t.getState(),a=(0,i.Gd)(o),r=(0,s.wu)(o),n=(0,s.xp)(o),c=await fetch(`${(0,l.G6)()}/quicksearch?site=${a.id}&country=${r}&device=${n}`);return(await c.json()).map((({title:e,slug:t})=>({title:e,slug:t,url:(0,p.AO)(a,"category",t)})))})),R=(0,a.zD)("search/fetchSearchCategoryResults",(async(e,t)=>{if(!e)return{content:[]};const o=t.getState(),a=(0,i.Gd)(o),r=(0,s.xp)(o),n=(0,s.wu)(o),l=(0,c.p)(o),d=await fetch(`${h}/${encodeURIComponent(e)}?site=${a.id}&device=${r}&country=${n}${l?`&experiment=${l}`:""}`),u=await d.json(),p={categories:u.related_categories||[],games:u.games||[]};return b({state:o,query:e,numberOfResults:p.categories.length+p.games.length,isQuickCategorySearch:!0}),{content:S({site:a,device:r,hits:p})}})),$=(0,a.Z0)({name:"search",initialState:v,reducers:{closeSearch(e){e.expanded=!1,e.doneOnce=!1,e.error=!1,e.pending=!1,e.results=k},openSearch(e){e.searchSessionId=(0,g.u)(),e.expanded=!0,e.query=""},setSearchQuery(e,t){e.query=t.payload.query},resetSearch(e){e.query="",e.results=k,e.pending=!1,e.doneOnce=!1,e.error=!1},closeSearchIfOpen(e){e.expanded&&(e.expanded=!1)}},extraReducers:e=>{e.addCase(C.pending,(e=>{e.pending=!0})).addCase(C.fulfilled,((e,t)=>{e.pending=!1,e.results=[...t.payload.content]})).addCase(C.rejected,(e=>{e.pending=!1,e.error=!0})).addCase(R.pending,(e=>{e.pending=!0})).addCase(R.fulfilled,((e,t)=>{e.pending=!1,e.results=[...t.payload.content]})).addCase(R.rejected,(e=>{e.pending=!1,e.error=!0})).addCase(x.fulfilled,((e,t)=>{e.quickSearchCategories=t.payload}))}}),{closeSearch:E,openSearch:q,setSearchQuery:w,resetSearch:I,closeSearchIfOpen:O}=$.actions;(0,m.Zv)({matcher:(0,a.i0)(q,E,O),effect:(e,t)=>{const o=t.getState(),a=(0,n.Ie)(o),s=(0,r.K5)(o),i=e.type===q.type?"open":"close";(0,u.F)({category:"searchPanel",action:i,label:s,data:{searchSessionId:a},options:{interaction:!0}})}});const B=$}}]);